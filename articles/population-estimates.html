<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Working with Population Estimates • njcensus</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Working with Population Estimates">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">njcensus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/njcensus.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/njcensus.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/population-estimates.html">Working with Population Estimates</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/PrigasG/njcensus/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Working with Population Estimates</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/PrigasG/njcensus/blob/main/vignettes/population-estimates.Rmd" class="external-link"><code>vignettes/population-estimates.Rmd</code></a></small>
      <div class="d-none name"><code>population-estimates.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://prigasg.github.io/njcensus">njcensus</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction-to-population-estimates">Introduction to Population Estimates<a class="anchor" aria-label="anchor" href="#introduction-to-population-estimates"></a>
</h2>
<p>In addition to decennial census data, the njcensus package now
provides access to the Census Bureau’s Population Estimates Program data
for New Jersey counties. This vignette demonstrates how to access and
analyze this data. Accessing Population Estimates Population estimates
data can be accessed using the get_pop_estimates() function. By default,
this returns age-sex data for all available years and counties.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get all age-sex estimates</span></span>
<span><span class="va">pop_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_pop_estimates.html">get_pop_estimates</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the first few rows</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">pop_data</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="available-file-types">Available File Types<a class="anchor" aria-label="anchor" href="#available-file-types"></a>
</h2>
<p>The package supports three types of population estimate files:</p>
<ul>
<li>
<strong>agesex</strong>: Age and sex data (default)</li>
<li>
<strong>alldata</strong>: All demographic data including race and
ethnicity</li>
<li>
<strong>syasex</strong>: Single-year age and sex data</li>
</ul>
<p>You can specify which type you want:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get all demographic data</span></span>
<span><span class="va">demo_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_pop_estimates.html">get_pop_estimates</a></span><span class="op">(</span>file_type <span class="op">=</span> <span class="st">"alldata"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get single-year age and sex data</span></span>
<span><span class="va">single_year</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_pop_estimates.html">get_pop_estimates</a></span><span class="op">(</span>file_type <span class="op">=</span> <span class="st">"syasex"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="filtering-data">Filtering Data<a class="anchor" aria-label="anchor" href="#filtering-data"></a>
</h2>
<p>The function offers several filtering options:</p>
<div class="section level3">
<h3 id="by-county">By County<a class="anchor" aria-label="anchor" href="#by-county"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get estimates for Atlantic County</span></span>
<span><span class="va">atlantic</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_pop_estimates.html">get_pop_estimates</a></span><span class="op">(</span>counties <span class="op">=</span> <span class="st">"Atlantic"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get estimates for multiple counties</span></span>
<span><span class="va">south_jersey</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_pop_estimates.html">get_pop_estimates</a></span><span class="op">(</span></span>
<span>  counties <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Atlantic"</span>, <span class="st">"Cape May"</span>, <span class="st">"Cumberland"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="by-year">By Year<a class="anchor" aria-label="anchor" href="#by-year"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get only 2023 estimates</span></span>
<span><span class="va">latest</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_pop_estimates.html">get_pop_estimates</a></span><span class="op">(</span>years <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get estimates for a range of years</span></span>
<span><span class="va">recent</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_pop_estimates.html">get_pop_estimates</a></span><span class="op">(</span>years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2022</span>, <span class="fl">2023</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="example-analyses">Example Analyses<a class="anchor" aria-label="anchor" href="#example-analyses"></a>
</h2>
</div>
<div class="section level2">
<h2 id="population-change-over-time">Population Change Over Time<a class="anchor" aria-label="anchor" href="#population-change-over-time"></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get all agesex data</span></span>
<span><span class="va">pop_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_pop_estimates.html">get_pop_estimates</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate county totals by year</span></span>
<span><span class="va">county_trends</span> <span class="op">&lt;-</span> <span class="va">pop_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">AGEGRP</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>  <span class="co"># Total population (all ages)</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">CTYNAME</span>, <span class="va">YEAR</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    Total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">TOT_POP</span><span class="op">)</span>,</span>
<span>    .groups <span class="op">=</span> <span class="st">"drop"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">CTYNAME</span>, <span class="va">YEAR</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the trends</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">county_trends</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="age-distribution">Age Distribution<a class="anchor" aria-label="anchor" href="#age-distribution"></a>
</h2>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get recent population estimates</span></span>
<span><span class="va">pop_2023</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_pop_estimates.html">get_pop_estimates</a></span><span class="op">(</span>years <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Analyze age distribution</span></span>
<span><span class="va">age_distribution</span> <span class="op">&lt;-</span> <span class="va">pop_2023</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">AGEGRP</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>  <span class="co"># Exclude total population row</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">AGEGRP</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    Population <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">TOT_POP</span><span class="op">)</span>,</span>
<span>    .groups <span class="op">=</span> <span class="st">"drop"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    Percentage <span class="op">=</span> <span class="op">(</span><span class="va">Population</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">Population</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># View the age distribution</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">age_distribution</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="comparing-census-data-with-estimates">Comparing Census Data with Estimates<a class="anchor" aria-label="anchor" href="#comparing-census-data-with-estimates"></a>
</h2>
<p>You can also compare decennial census data with more recent
population estimates:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get 2020 census data</span></span>
<span><span class="va">census_2020</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_census_data.html">get_census_data</a></span><span class="op">(</span><span class="st">"white"</span>, <span class="st">"male"</span>, <span class="fl">2020</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">county_name</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>Census_2020_Total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">Total</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get 2023 estimates</span></span>
<span><span class="va">estimates_2023</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_pop_estimates.html">get_pop_estimates</a></span><span class="op">(</span>years <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">AGEGRP</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>  <span class="co"># Total population</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">CTYNAME</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>Estimate_2023_Total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">TOT_POP</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Rename column for joining</span></span>
<span><span class="va">estimates_2023</span> <span class="op">&lt;-</span> <span class="va">estimates_2023</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>county_name <span class="op">=</span> <span class="va">CTYNAME</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Join and calculate change</span></span>
<span><span class="va">comparison</span> <span class="op">&lt;-</span> <span class="va">census_2020</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">estimates_2023</span>, by <span class="op">=</span> <span class="st">"county_name"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    Change <span class="op">=</span> <span class="va">Estimate_2023_Total</span> <span class="op">-</span> <span class="va">Census_2020_Total</span>,</span>
<span>    Percent_Change <span class="op">=</span> <span class="op">(</span><span class="va">Change</span> <span class="op">/</span> <span class="va">Census_2020_Total</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># View comparison</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">comparison</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>Population estimates provide valuable data for the years between
decennial censuses. The njcensus package makes it easy to access and
analyze this data alongside the more comprehensive decennial census
data.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by George Arthur.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
